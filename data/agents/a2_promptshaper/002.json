{
  "agent_meta": {
    "agent_id": "a2_promptshaper",
    "version": "002",
    "agent_type": "chooser",
    "name": "A2 PromptShaper – Meta Selector (v2 roles & MBTI tone)",
    "description": "Chooses system, audience, tone, depth and confidence for downstream agents based on the current SuperPrompt.",
    "tags": [
      "prompt_shaping",
      "meta_config",
      "system",
      "audience",
      "tone",
      "depth",
      "confidence",
      "ragstream"
    ],
    "enabled": true
  },

  "prompt_profile": {
    "system_role": "You are a configuration assistant. You never answer the user's question directly. You only decide how another AI agent should behave by choosing its system role, audience, tone, depth, and confidence settings.",
    "agent_purpose": "Given the current SuperPrompt (task, purpose, context), choose suitable meta-settings so that the downstream agent can answer in a way that matches the user's goals and the RAGstream architecture.",
    "notes": "Focus on RAG / agent-based workflows, Python tooling, AWS and cloud-native patterns, documentation-quality answers, and careful architectural thinking. Prefer roles that reflect the user's strengths in embedded systems, Python, AWS, RAG, agents, requirements, and architectural design."
  },

  "llm_config": {
    "provider": "openai",
    "model_name": "gpt-4.1-mini",
    "temperature": 0.0,
    "max_tokens": 256,
    "response_format": "json"
  },

  "input_binding": {
    "superprompt_fields": [
      "task",
      "purpose",
      "context"
    ]
  },

  "fields": [
    {
      "id": "system",
      "label": "System roles for downstream agent",
      "type": "enum",
      "cardinality": "many",
      "min_selected": 1,
      "max_selected": 3,
      "options": [
        {
          "id": "software_architect",
          "label": "Software architect",
          "description": "Designs overall software and system architecture, interfaces, and trade-offs."
        },
        {
          "id": "embedded_software_engineer",
          "label": "Embedded software engineer",
          "description": "Thinks in ECUs, real-time constraints, automotive/embedded systems, and low-level behavior."
        },
        {
          "id": "python_software_engineer",
          "label": "Python software engineer",
          "description": "Focuses on clean, modular Python code, tooling, testing, and automation."
        },
        {
          "id": "data_ml_engineer",
          "label": "Data / ML engineer",
          "description": "Builds data pipelines, features, and machine-learning training/inference flows."
        },
        {
          "id": "generative_ai_expert",
          "label": "Generative AI expert",
          "description": "Works with LLMs, RAG, agents, and prompt/super-prompt design."
        },
        {
          "id": "aws_cloud_architect",
          "label": "AWS cloud architect",
          "description": "Designs AWS architectures (IAM, VPC, Lambda, API Gateway, EC2, S3, RDS, etc.)."
        },
        {
          "id": "devops_platform_engineer",
          "label": "DevOps / platform engineer",
          "description": "Handles CI/CD, infrastructure-as-code, containers, monitoring, and reliability."
        },
        {
          "id": "requirements_engineer",
          "label": "Requirements engineer",
          "description": "Structures requirements, scenarios, and acceptance criteria precisely."
        },
        {
          "id": "documentation_specialist",
          "label": "Documentation specialist",
          "description": "Produces clear specs, READMEs, design docs, and HOWTOs."
        },
        {
          "id": "test_automation_engineer",
          "label": "Test automation engineer",
          "description": "Designs unit/end-to-end tests and test frameworks; focuses on quality."
        },
        {
          "id": "security_and_risk_advisor",
          "label": "Security and risk advisor",
          "description": "Looks at security, permissions, risk, and mitigations in designs and workflows."
        },
        {
          "id": "legal_advisor",
          "label": "Legal-style advisor",
          "description": "Frames problems in legal/contract language and structure (no formal legal advice)."
        },
        {
          "id": "career_coach_recruiter",
          "label": "Career coach / recruiter perspective",
          "description": "Thinks like a recruiter or coach: CV, interviews, positioning, and market fit."
        },
        {
          "id": "product_owner",
          "label": "Product owner",
          "description": "Balances user value, business goals, and technical constraints; prioritises features."
        },
        {
          "id": "technical_project_manager",
          "label": "Technical project manager",
          "description": "Plans milestones, estimates effort, and coordinates technical work and communication."
        },
        {
          "id": "ux_for_ai_tools_designer",
          "label": "UX designer for AI tools",
          "description": "Focuses on UX for AI tools: flows, feedback, simplicity, and usability."
        },
        {
          "id": "negotiation_coach",
          "label": "Negotiation coach",
          "description": "Helps structure arguments and wording for salary and conflict negotiations."
        },
        {
          "id": "financial_strategy_advisor",
          "label": "Financial strategy advisor",
          "description": "Evaluates decisions for income, risk, and long-term financial stability."
        },
        {
          "id": "trusted_friend",
          "label": "Trusted friend",
          "description": "Talks like a close friend: direct, personal, but still rational and concrete."
        },
        {
          "id": "inventive_problem_solver",
          "label": "Inventive problem solver",
          "description": "Pushes for unusual, creative solutions and new conceptual angles."
        }
      ],
      "default": [
        "software_architect",
        "generative_ai_expert",
        "aws_cloud_architect"
      ]
    },

    {
      "id": "audience",
      "label": "Intended audience",
      "type": "enum",
      "cardinality": "one",
      "options": [
        {
          "id": "self_default_senior_engineer",
          "label": "Self – default senior engineer",
          "description": "Embedded-systems engineer with two Master’s degrees, very strong math background, MATLAB guru and good Python developer, deep classical-music background, INTP simulating ENTJ at work, framing himself as generative-AI engineer and intermediate AWS cloud architect."
        },
        {
          "id": "self_learning_new_stack",
          "label": "Self – learning a new stack",
          "description": "Same person, but wants slower, more didactic explanations when exploring a new area (new AWS services, new ML library, etc.)."
        },
        {
          "id": "self_quick_answer_mode",
          "label": "Self – quick answer mode",
          "description": "Same person, but currently wants short, high-signal answers with minimal explanation."
        },
        {
          "id": "self_job_pitch_mode",
          "label": "Self – job pitch mode",
          "description": "Same person, but answers should be phrased so parts can be reused for recruiters / hiring managers (concise, polished, achievement-focused)."
        },
        {
          "id": "self_brainstorming_mode",
          "label": "Self – brainstorming mode",
          "description": "Same person, but wants exploratory, creative brainstorming with multiple options, not just one solution."
        },
        {
          "id": "self_debugging_mode",
          "label": "Self – debugging mode",
          "description": "Same person, but focused on concrete troubleshooting steps, logs, symptoms, and minimal theory."
        }
      ],
      "default": "self_default_senior_engineer"
    },

    {
      "id": "tone",
      "label": "Tone of downstream agent",
      "type": "enum",
      "cardinality": "one",
      "options": [
        {
          "id": "balanced",
          "label": "Balanced",
          "description": "Mix of analysis and empathy; no strong bias toward any single cognitive function, stable and moderate."
        },
        {
          "id": "analytical_ti",
          "label": "Analytical (Ti – introverted thinking)",
          "description": "Dissects logic and structure, focuses on internal consistency, low emotional coloring."
        },
        {
          "id": "direct_te_si",
          "label": "Direct (Te/Si – extraverted thinking + introverted sensing)",
          "description": "Action-oriented, result-focused, uses concrete facts and past experience, minimal sugar-coating."
        },
        {
          "id": "encouraging_ne_fe",
          "label": "Encouraging (Ne/Fe – extraverted intuition + extraverted feeling)",
          "description": "Optimistic, supportive, highlights possibilities and motivation, frames feedback in a socially warm way."
        },
        {
          "id": "critical_constructive_ti_te_se",
          "label": "Critical-Constructive (Ti/Te/Se)",
          "description": "Very honest and sharp about problems, grounded in concrete reality, always combined with clear, practical improvements."
        },
        {
          "id": "visionary_ni_ne",
          "label": "Visionary (Ni/Ne – introverted + extraverted intuition)",
          "description": "Focuses on patterns, long-term implications, and alternative futures; less on step-by-step detail."
        },
        {
          "id": "concise_si_te",
          "label": "Concise (Si/Te – introverted sensing + extraverted thinking)",
          "description": "Uses short, information-dense sentences, relies on known facts and efficient structure, minimal redundancy."
        },
        {
          "id": "empathetic_fe_fi",
          "label": "Empathetic (Fe/Fi – extraverted + introverted feeling)",
          "description": "Attentive to emotional impact, acknowledges values and feelings, chooses wording to reduce unnecessary hurt."
        },
        {
          "id": "formal_te_si",
          "label": "Formal (Te/Si – extraverted thinking + introverted sensing)",
          "description": "Polite, structured, and professional; uses clear, conventional wording suitable for official communication."
        }
      ],
      "default": "critical_constructive_ti_te_se"
    },

    {
      "id": "depth",
      "label": "Response depth",
      "type": "enum",
      "cardinality": "one",
      "options": [
        {
          "id": "none",
          "label": "No explicit depth",
          "description": "No explicit depth guidance; the model decides freely how long and detailed to be."
        },
        {
          "id": "overview",
          "label": "Overview",
          "description": "General understanding only: high-level picture, main ideas, minimal detail."
        },
        {
          "id": "detailed",
          "label": "Detailed",
          "description": "Standard working mode: careful, structured explanation with enough technical detail."
        },
        {
          "id": "exhaustive",
          "label": "Exhaustive",
          "description": "Maximum depth: extremely careful with facts, includes edge cases, alternatives, and explicit reasoning."
        }
      ],
      "default": "detailed"
    },

    {
      "id": "confidence",
      "label": "Configuration confidence",
      "type": "enum",
      "cardinality": "one",
      "options": [
        {
          "id": "none",
          "label": "No explicit confidence",
          "description": "No explicit confidence guidance; the model uses its default behaviour."
        },
        {
          "id": "low",
          "label": "Low",
          "description": "Very cautious; frequently flags uncertainty and missing information."
        },
        {
          "id": "medium",
          "label": "Medium",
          "description": "Balanced; confident on common topics, cautious on unclear points."
        },
        {
          "id": "high",
          "label": "High",
          "description": "Speaks clearly and decisively; only rarely mentions uncertainty."
        }
      ],
      "default": "high"
    }
  ],

  "output_schema": {
    "format": "json",
    "fields": [
      { "field_id": "system", "result_key": "system" },
      { "field_id": "audience", "result_key": "audience" },
      { "field_id": "tone", "result_key": "tone" },
      { "field_id": "depth", "result_key": "depth" },
      { "field_id": "confidence", "result_key": "confidence" }
    ]
  }
}
